# GitHubにプロジェクトを追加してみる
何もわからないところからこのプロジェクトを始める。
何をするかも今の段階では決めていないが、なにかおもしろいことをしないなと思い、どうせやるなら生成AIとか使ってみたいなみたいな安直な考えである。

まずは、プロジェクトを作るならGitHubにいろいろ考えたことも踏まえてまとめようということで、プロジェクトを立ち上げてみる。
とはいえ、一からすべてやるのもどうすればいいのかよくわかっていないので、これも生成AIに頼ってやっていくことにする。
なにせこちらにはAIエディターのCursorがいるので心強い。

## SSH鍵の作成とGitHubに公開鍵を登録する
とりあえず、ssh keyもないので、ssh keyを作成してGitHubに登録してみる。

とりあえず、ssh keyの作り方をAIに聞いてみる。
Cursorではエディターの右上にChatをできるプロンプトを作成するボタンがあるので、そこから質問を投げる。
![AI panel](<image/スクリーンショット 2024-04-23 22.14.46.png>)


```AI Chat
ssh keyを作ってGitHubに公開鍵を登録したい。
```
>SSHキーを作成し、GitHubに公開鍵を登録する手順は以下の通りです。
>1. **SSHキーの作成**
   ターミナルまたはコマンドプロンプトを開き、以下のコマンドを実行します。メールアドレスは、GitHubアカウントに関連付けられたものを使用してください。
>  ```bash
>   ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
>   ```
>   途中でファイルの保存場所やパスワードの設定を求められますが、特に理由がなければすべてデフォルトで問題ありません。
> 2. **SSHエージェントの起動**
>   以下のコマンドを実行してSSHエージェントを起動します。
>   ```bash
>   eval "$(ssh-agent -s)"
>   ```
>   Macの場合、`~/.ssh/config` ファイルを編集（存在しない場合は作成）して、以下の内容を追加することで、SSHキーを自動的に読み込むように設定できます。
>   ```
>   Host *
>     AddKeysToAgent yes
>     UseKeychain yes
>     IdentityFile ~/.ssh/id_rsa
>   ```
>
>3. **SSHキーをSSHエージェントに追加**
>   以下のコマンドを実行して、SSHキーをSSHエージェントに追加します。
>   ```bash
>   ssh-add ~/.ssh/id_rsa
>   ```
>
>4. **GitHubに公開鍵を登録**
>   まず、以下のコマンドを実行して公開鍵の内容をクリップボードにコピーします。
>   ```bash
>   pbcopy < ~/.ssh/id_rsa.pub
>   ```
>   Windowsの場合は、`clip < ~/.ssh/id_rsa.pub` を使用します。

>   次に、GitHubのサイトにアクセスし、右上のプロフィールアイコンから「Settings」→「SSH and GPG keys」→「New SSH key」の順に進みます。Titleには識別しやすい名前を入力し、Keyの欄には先ほどコピーした公開鍵の内容をペーストします。最後に「Add SSH key」をクリックして登録を完了させます。

> これでSSHキーの作成からGitHubへの公開鍵の登録まで完了しました。これにより、パスワードを使用せずに安全にGitHubと通信できるようになります。

すごいね事細かに教えてくれた。
とりあえずこれに沿ってSSH鍵を作ってみる。

その前にコマンドの解説をAIにしてもらう。
```
  ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
このコマンドのオプションの意味を教えてください。
```
>`ssh-keygen -t rsa -b 4096 -C "your_email@example.com"` コマンドのオプションは以下の通りです。
>
>- `-t rsa`: キーのタイプを指定します。この場合、`rsa` を使用しています。RSAは現在最も一般的に使用されている公開鍵暗号方式の一つです。
>- `-b 4096`: キーのビット長を指定します。この場合、4096ビットです。デフォルトは2048ビットですが、4096ビットの方がより強力なセキュリティを提供します。
>- `-C "your_email@example.com"`: キーに関連付けるコメントを指定します。通常、キーを識別するために使用されるメールアドレスを入れますが、任意の文字列を使用することができます。このコメントは公開鍵にのみ含まれ、秘密鍵には含まれません。
>
>このコマンドを実行すると、公開鍵(`id_rsa.pub`)と秘密鍵(`id_rsa`)のペアが生成されます。公開鍵はGitHubなどのサービスに登録し、秘密鍵はローカルマシンに安全に保管します。

なるほど。ではいよいよ実行。  
Cursorでは、さっきAI Panelを開く時に押したボタンの一つ左でターミナルを開くことができる。
### 1．鍵の作成
```zsh
$ ssh-keygen -t ed25519 -C "your_email@example.com"
```
```
Generating public/private ed25519 key pair.
Enter file in which to save the key (/Users/user/.ssh/id_ed25519): 
Created directory '/Users/user/.ssh'.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /Users/user/.ssh/id_ed25519
Your public key has been saved in /Users/user/.ssh/id_ed25519.pub
The key fingerprint is:
SHA256:~~~~ your_email@example.com
The key's randomart image is:
+--[ED25519 256]--+
~
~
~
+----[SHA256]-----+
```
途中、ファイルを作る場所の確認だったり、パスフレーズを要求されたりするが特に指定せずにEnterですすむと、上のような感じになった。
暗号形式はRSA暗号よりより強固なed25519形式で作成した。（どこかでそんな話を聞いたからそうしただけで、どんな違いがあるかはよくわかっていない。
一応この辺りが参照になるかも？GitHubではed25519を推奨するようになったらしい https://tech.asahi.co.jp/posts/20231005-bbf6
）

### 2. SSHエージェントの起動
よくわからなかったので、確認のために聞いてみた。
```
   eval "$(ssh-agent -s)"
これはなにをするコマンドですか
```
>`eval "$(ssh-agent -s)"` コマンドは、SSHエージェントを起動し、そのプロセスに関する環境変数を現在のシェルセッションに設定するために使用されます。
>
>SSHエージェントは、SSHキーのパスフレーズを一時的に保存し、SSH接続時に自動的に提供するバックグラウンドプログラムです。これにより、ユーザーはSSHキーのパスフレーズを複数回入力する必要がなくなり、作業の効率化が図られます。
>
>- `eval`: シェルコマンドとして実行するために、コマンド文字列を評価します。
>- `$(...)`: コマンド置換を行い、括弧内のコマンドの実行結果を文字列として返します。
>- `ssh-agent -s`: SSHエージェントを起動し、シェルに適した設定コマンドを出力します。
>
>このコマンドを実行することで、SSHエージェントが起動され、そのエージェントの環境変数（例えば、`SSH_AUTH_SOCK`や`SSH_AGENT_PID`）が現在のシェルセッションに設定されます。これにより、SSH接続やgit操作などでSSHキーを使用する際に、エージェントがキーの管理を行うことができるようになります。

ほう、つまりどういうことだ？
```
GitHubに公開鍵を登録する時にも必要ですか
```
>GitHubに公開鍵を登録する際に `eval "$(ssh-agent -s)"` コマンドを直接使用する必要はありません。このコマンドはSSHエージェントを起動し、SSHキーの管理を効率化するために使われますが、公開鍵をGitHubに登録するプロセス自体はWebインターフェースを通じて行われます。
>
>GitHubに公開鍵を登録する手順は以下の通りです：
>
>1. 公開鍵（例：`~/.ssh/id_rsa.pub`）の内容をクリップボードにコピーします。Macでは `pbcopy < ~/.ssh/id_rsa.pub`、Windowsでは `clip < ~/.ssh/id_rsa.pub`、Linuxでは `xclip -sel clip < ~/.ssh/id_rsa.pub` コマンドを使用できます。
>2. GitHubのウェブサイトにログインし、右上のユーザーアイコンから「Settings」を選択します。
>3. 左側のサイドバーから「SSH and GPG keys」を選択し、「New SSH key」ボタンをクリックします。
>4. 「Title」フィールドには、公開鍵を識別するための名前を入力し、「Key」フィールドには先ほどコピーした公開鍵の内容をペーストします。
>5. 「Add SSH key」ボタンをクリックして公開鍵を登録します。
>
>このプロセスでは、SSHエージェントは関与しません。SSHエージェントは、SSHキーを使ってGitHubなどのサーバーに安全に接続する際に、キーのパスフレーズを一時的に保持し、ユーザーが毎回パスフレーズを入力する手間を省くために使用されます。

やっぱりいらなかったらしい。
なのでスキップする。

多分3もいらないね。

### 4．Githubに公開鍵を登録する。
とりあえず言われた通りに、公開鍵をコピーする。
```zsh
$ pbcopy < ~/.ssh/id_rsa.pub
```
ちなみにこんなものがコピーできている。
`ssh-ed25519 AAAAC~~~ your_email@example.com`

ここからは、[GitHub](https://github.com/)上での操作。
アカウントは幸いもっているので、アカウントはある前提での手順になる。

自分のページのSettingsからSSH and GPG keysを選択![alt text](<image/スクリーンショット 2024-04-23 23.33.59.png>)

New SSH keyを選択![alt text](<image/スクリーンショット 2024-04-23 23.34.45.png>)

Title: 
Authorized key: 
Key: 
をそれぞれ入力して、Add New keyを押すとGitHubのパスワードを入力することで、新しい公開鍵を登録することができる。
![alt text](<image/スクリーンショット 2024-04-23 23.36.55.png>)
タイトルはシリアルナンバーでも入れておくと複数登録した時に識別できるようになる。

## GitHubでディレクトリを管理する
次に、このディレクトリをGitで追跡するようにする。そしてGitHubでファイルが管理できるようにする。
これもAIに聞いてみよう。
```
このディレクトリをGitHubで管理したいです
```
